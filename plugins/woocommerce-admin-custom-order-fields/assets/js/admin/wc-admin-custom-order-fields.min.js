jQuery(document).ready(function(e){"use strict";function n(){t.find("tbody tr").each(function(t){e(this).find("input, select").each(function(){var n=e(this).attr("name");if(typeof n!="undefined"&&n){n=n.replace(/\[\d*\]/,"["+t+"]");e(this).attr("name",n)}})})}var t=e("table.wc-admin-custom-order-fields-editor");t.find(".chosen_select").chosen();t.on("click",".js-wc-admin-custom-order-fields-add-field",function(){t.append(wc_admin_custom_order_fields_params.new_row);n();t.find(".chosen_select").chosen();t.find("select").change();t.find(".help_tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200});return!1}).on("click",".js-wc-admin-custom-order-fields-remove",function(){t.find("tbody .check-column input:checked").each(function(){e(this).closest("tr").remove()});n();return!1}).on("change","select.js-wc-custom-order-field-type",function(){var t=e(this).closest("tr").find("input.js-wc-custom-order-field-default-values"),n=e(this).closest("tr").find("select.js-wc-custom-order-field-attributes"),r=e(this).val();"date"==r?t.datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showOn:"focus"}):t.datepicker("destroy");"text"==r||"textarea"==r||"date"==r?t.prop("placeholder",""):t.prop("placeholder",wc_admin_custom_order_fields_params.default_placeholder_text);"textarea"==r?n.find("option[value=filterable]").prop("disabled",!0):n.find("option[value=filterable]").prop("disabled",!1);"multiselect"==r||"checkbox"==r?n.find("option[value=sortable]").prop("disabled",!0):n.find("option[value=sortable]").prop("disabled",!1);n.trigger("liszt:updated")}).find("tbody").sortable({items:"tr",cursor:"move",axis:"y",handle:"td.js-wc-custom-order-field-draggable",scrollSensitivity:40,helper:function(e,t){return t},start:function(e,t){t.item.css("background-color","#f6f6f6")},stop:function(e,t){t.item.removeAttr("style");n()}}).find("select").change();e("form.wc-admin-custom-order-fields").submit(function(n){var r=!0;t.find("input.js-wc-custom-order-field-label").each(function(){if(!e(this).val()){alert(wc_admin_custom_order_fields_params.label_required_text);return r=!1}});t.find("input.js-wc-custom-order-field-default-values").each(function(){var t=e(this).closest("tr").find("select.js-wc-custom-order-field-type").val();if(!e(this).val()&&"text"!=t&&"textarea"!=t&&"date"!=t){alert(wc_admin_custom_order_fields_params.option_required_text);return r=!1}});return r});e("div.wc-connect a.skip").click(function(){e.get(ajaxurl,{action:"wc_admin_custom_order_fields_dismiss_welcome_notice"});e(this).parents("div.wc-connect").fadeOut()})});